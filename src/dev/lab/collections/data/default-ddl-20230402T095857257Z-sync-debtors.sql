CREATE TABLE DbStages (id VARCHAR(16) NOT NULL ,name VARCHAR(80) NOT NULL ,description VARCHAR(500)  ,color VARCHAR(6)  ,position INTEGER  ,disabled BOOLEAN NOT NULL ,created DATETIME  ,createdBy VARCHAR(50)  ,CONSTRAINT DbStages_PK PRIMARY KEY (id));
CREATE TABLE DbDebtors (number VARCHAR(16) NOT NULL ,referenceNumber VARCHAR(32) NOT NULL ,name VARCHAR(200) NOT NULL ,partyRoleId INTEGER  ,partyId INTEGER  ,mainAccountNumber VARCHAR(16)  ,mainPaymentResponsibleNumber VARCHAR(16)  ,stageId VARCHAR(16)  ,debtorType VARCHAR(16)  ,status VARCHAR(16) NOT NULL ,reason VARCHAR(50) NOT NULL ,lastStatusId INTEGER NOT NULL ,identificationValue VARCHAR(80)  ,identificationType VARCHAR(30)  ,additionalInfo1 VARCHAR(150)  ,additionalInfo2 VARCHAR(150)  ,additionalInfo3 VARCHAR(150)  ,created DATETIME  ,createdBy VARCHAR(50)  ,CONSTRAINT DbDebtors_PK PRIMARY KEY (number));
CREATE TABLE DbDebtorStatusHistories (id INTEGER  AUTO_INCREMENT,number VARCHAR(16) NOT NULL ,status VARCHAR(16) NOT NULL ,reason VARCHAR(50) NOT NULL ,remarks VARCHAR(250)  ,created DATETIME  ,createdBy VARCHAR(50)  ,CONSTRAINT DbDebtorStatusHistories_PK PRIMARY KEY (id));
ALTER TABLE DbDebtors ADD CONSTRAINT DbDebtors_stage_FK FOREIGN KEY (stageId) REFERENCES DbStages (id);
ALTER TABLE DbDebtors ADD CONSTRAINT DbDebtors_lastStatus_FK FOREIGN KEY (lastStatusId) REFERENCES DbDebtorStatusHistories (id);
ALTER TABLE DbDebtorStatusHistories ADD CONSTRAINT DbDebtorStatusHistories_account_FK FOREIGN KEY (number) REFERENCES DbDebtors (number);